SET QUOTED_IDENTIFIER ON
GO
SET ANSI_NULLS ON
GO
CREATE VIEW [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples_View] AS SELECT[data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[Id] AS [Id], [data].[AzureSqlServer_Database_SqlProcess_Keys].[CollectionDate] AS [IdCollectionDate], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_BlockingSessionId] AS [AzureSqlServer_Database_SqlProcess_BlockingSessionId], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_BlockingSessionLoginTime] AS [AzureSqlServer_Database_SqlProcess_BlockingSessionLoginTime], [utils].[TicksToDateTime]([data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_BlockingSessionLoginTime]) AS [AzureSqlServer_Database_SqlProcess_BlockingSessionLoginTime_DateTime], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_Command] AS [AzureSqlServer_Database_SqlProcess_Command], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_CumulativeLogicalReads] AS [AzureSqlServer_Database_SqlProcess_CumulativeLogicalReads], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_CumulativeProcessorTime] AS [AzureSqlServer_Database_SqlProcess_CumulativeProcessorTime], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_CumulativeReads] AS [AzureSqlServer_Database_SqlProcess_CumulativeReads], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_CumulativeWrites] AS [AzureSqlServer_Database_SqlProcess_CumulativeWrites], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_DatabaseName] AS [AzureSqlServer_Database_SqlProcess_DatabaseName], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_FullCommand] AS [AzureSqlServer_Database_SqlProcess_FullCommand], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_LastRequestEnd] AS [AzureSqlServer_Database_SqlProcess_LastRequestEnd], [utils].[TicksToDateTime]([data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_LastRequestEnd]) AS [AzureSqlServer_Database_SqlProcess_LastRequestEnd_DateTime], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_LastRequestStart] AS [AzureSqlServer_Database_SqlProcess_LastRequestStart], [utils].[TicksToDateTime]([data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_LastRequestStart]) AS [AzureSqlServer_Database_SqlProcess_LastRequestStart_DateTime], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_LastWaitType] AS [AzureSqlServer_Database_SqlProcess_LastWaitType], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_MemoryUsage] AS [AzureSqlServer_Database_SqlProcess_MemoryUsage], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_MostRecentSqlHandle] AS [AzureSqlServer_Database_SqlProcess_MostRecentSqlHandle], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_OpenTransactions] AS [AzureSqlServer_Database_SqlProcess_OpenTransactions], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_PlanHandle] AS [AzureSqlServer_Database_SqlProcess_PlanHandle], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_QueryStartTime] AS [AzureSqlServer_Database_SqlProcess_QueryStartTime], [utils].[TicksToDateTime]([data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_QueryStartTime]) AS [AzureSqlServer_Database_SqlProcess_QueryStartTime_DateTime], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_SqlHandle] AS [AzureSqlServer_Database_SqlProcess_SqlHandle], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_StatementEnd] AS [AzureSqlServer_Database_SqlProcess_StatementEnd], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_StatementStart] AS [AzureSqlServer_Database_SqlProcess_StatementStart], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_Status] AS [AzureSqlServer_Database_SqlProcess_Status], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_TotalBlockingTime] AS [AzureSqlServer_Database_SqlProcess_TotalBlockingTime], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_WaitResource] AS [AzureSqlServer_Database_SqlProcess_WaitResource], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_WaitTime] AS [AzureSqlServer_Database_SqlProcess_WaitTime], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[_WaitType] AS [AzureSqlServer_Database_SqlProcess_WaitType], [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[CollectionDate] AS [CollectionDate], [utils].[TicksToDateTime]([data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[CollectionDate]) AS [CollectionDate_DateTime], [data].[AzureSqlServer_Keys].[_Name] AS [AzureSqlServer_Name], [data].[AzureSqlServer_Database_Keys].[_Name] AS [AzureSqlServer_Database_Name], [data].[AzureSqlServer_Database_SqlProcess_Keys].[_LoginTime] AS [AzureSqlServer_Database_SqlProcess_LoginTime], [utils].[TicksToDateTime]([data].[AzureSqlServer_Database_SqlProcess_Keys].[_LoginTime]) AS [AzureSqlServer_Database_SqlProcess_LoginTime_DateTime], [data].[AzureSqlServer_Database_SqlProcess_Keys].[_SessionId] AS [AzureSqlServer_Database_SqlProcess_SessionId] FROM [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples] INNER JOIN [data].[AzureSqlServer_Database_SqlProcess_Keys] ON [data].[AzureSqlServer_Database_SqlProcess_Keys].[Id] = [data].[AzureSqlServer_Database_SqlProcess_UnstableSamples].[Id]
 INNER JOIN [data].[AzureSqlServer_Database_Keys] ON [data].[AzureSqlServer_Database_Keys].[Id] = [data].[AzureSqlServer_Database_SqlProcess_Keys].[ParentId]
 INNER JOIN [data].[AzureSqlServer_Keys] ON [data].[AzureSqlServer_Keys].[Id] = [data].[AzureSqlServer_Database_Keys].[ParentId]
;
GO
